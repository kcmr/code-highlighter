<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>code-sample demo</title>
  <style>
    code-sample + code-sample { margin-top: 20px; }
    .navy-bg { --code-sample-background: #000D25; }
    .white-bg { --code-sample-background: #eeeef1; }
  </style>
  <link rel="stylesheet" as="style" importance="low" href="demo-theme.css" onload="window.externalStyle = this.href">
  <script src="./index.js"></script>
</head>
<body>
  <div class="wrapper">
    <div class="demo">
      <div class="demo-text">
        <h1>HTML and inline JavaScript</h1>
        <theme-selector target="#demo-1"></theme-selector>
      </div>

      <div class="demo-sample">
        <code-sample id="demo-1">
          <template>
            <custom-element boolean-attribute>content</custom-element>

            <div class="something">
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet distinctio nam, possimus officia error delectus impedit libero corrupti, sunt, sapiente suscipit. Esse, quisquam tempore similique eveniet veritatis pariatur adipisci sit.</p>
            </div>

            <script>
              alert('hola');
            </script>
          </template>
        </code-sample>
      </div>
    </div>

    <div class="demo">
      <div class="demo-text">
        <h1>JavaScript</h1>
        <theme-selector target="#demo-2"></theme-selector>
      </div>

      <div class="demo-sample">
        <code-sample id="demo-2">
          <template>
            const something = param => {
              // comment
              let a = `${param}-something`;
            }
          </template>
        </code-sample>
      </div>
    </div>

    <div class="demo">
      <div class="demo-text">
        <h1>CSS</h1>
        <theme-selector target="#demo-4"></theme-selector>
      </div>

      <div class="demo-sample">
        <code-sample id="demo-4">
          <template>
            .my-style { display: block; }

            :host {
              display: flex;
              box-sizing: border-box;
            }

            :host([hidden]) { display: none; }
          </template>
        </code-sample>
      </div>
    </div>

    <div class="demo">
      <div class="demo-text">
        <h1>Rendered code</h1>
        <theme-selector target="#demo-5"></theme-selector>
      </div>

      <div class="demo-sample">
        <p>Use the boolean attribute <code>render-code</code> to render the code inside the <code>&lt;template&gt;</code> tag.</p>
        <code-sample render-code id="demo-5">
          <template>
            <style>
              button.btn {
                all: initial;
                font: caption;
                font-size: 100%;
                padding: 10px 20px 12px;
                cursor: pointer;
                outline: none;
                border-radius: 0.25em;
                box-shadow: inset 0 -0.25em 0 rgba(0, 0, 0, 0.2);
                color: #fff;
                background-color: #006dbe;
                position: relative;
              }
              button.btn:active {
                top: 1px;
                background-color: #0056ab;
              }
            </style>

            <button class="btn">Hi unicorn!</button>
          </template>
        </code-sample>
      </div>
    </div>

    <div class="demo">
      <div class="demo-text">
        <h1>Copy to clipboard button</h1>
        <theme-selector target="#demo-6"></theme-selector>
      </div>

      <div class="demo-sample">
        <p>Use the boolean attribute <code>copy-clipboard-button</code> to display a &quot;copy&quot; button on the top right corner.</p>
        <code-sample copy-clipboard-button id="demo-6">
          <template>
            <div class="some-class">
              <p>Lorem ipsum dolorâ€¦</p>
            </div>
          </template>
        </code-sample>
      </div>
    </div>

    <div class="demo">
      <div class="demo-text">
        <h1>Change content dynamically</h1>
        <theme-selector target="#sample"></theme-selector>
      </div>
      <div class="demo-sample">
        <p>
          <button class="demo-btn" id="changeContent">Change content</button>
        </p>
        <code-sample id="sample">
          <template>
            <p>Initial content.</p>
          </template>
        </code-sample>
      </div>
    </div>

    <div class="demo">
      <div class="demo-text">
        <h1>Custom background colors</h1>
        <theme-selector target="#demo-8"></theme-selector>
      </div>

      <div class="demo-sample">
        <code-sample class="navy-bg" id="demo-8">
          <template>
            <resizable-panels>
              <div class="panel-1">lorem...</div>
              <div class="panel-2">ipsum...</div>
              <div class="panel-3">dolor...</div>
            </resizable-panels>
          </template>
        </code-sample>

        <code-sample class="white-bg">
          <template>
            function algo(param) {
              alert('helloooow');
            }
          </template>
        </code-sample>
      </div>
    </div>

    <div class="demo">
      <div class="demo-text">
        <h1>Using stylesheet</h1>
      </div>

      <div class="demo-sample">
        <code-sample id="demo-9">
          <template>
            <custom-element boolean-attribute>content</custom-element>

            <div class="something">
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet distinctio nam, possimus officia error delectus impedit libero corrupti, sunt, sapiente suscipit. Esse, quisquam tempore similique eveniet veritatis pariatur adipisci sit.</p>
            </div>
          </template>
        </code-sample>
        <script>
          // Parcel adds hashes to files so we don't know the hash until the file is imported
          // using an standard (<link rel="stylesheet">) method
          window['demo-9'].stylesheet = externalStyle;
        </script>
      </div>
    </div>
  </div>

  <script>
    (function(d) {
      const btn = d.querySelector('#changeContent');
      const sample = d.querySelector('#sample');
      const obj = {
        prop1: 'value',
        prop2: {
          subProp1: 'something',
          subProp2: true,
          subProp3: [{
            subSub1: 'a',
            subSub2: 'b'
          }, {
            subSub1: 'c',
            subSub2: 'd'
          }]
        }
      };

      const customContent = () => {
        let initial = true;

        return () => {
          const content = (initial)
            ? `<template>
                ${JSON.stringify(obj, null, 2)}
              </template>`
            : `<template>
                <p>Initial content.</p>
              </template>`;

          initial = !initial;
          return content;
        };
      };

      const alternateContent = customContent();
      const changeContent = () => sample.innerHTML = alternateContent();

      btn.addEventListener('click', changeContent);
    }(document));
  </script>
</body>
</html>
